#!/usr/bin/perl -w
#Network Ping Scan
#By N_A

#A small utility to aid host discovery

use strict;
use warnings;
use Net::Ping;
use 5.010;

#Network ping Scan. Will scan 192.168.1.xxx to discover if hosts are 
#alive. Takes a command line argument for timeout in seconds

my ($host, $timeout) = @ARGV;

if(not defined $host || $timeout)
{
	usage();
}



for (my $i = 0; $i<=255; $i++)
{
	my $p = Net::Ping->new();
	my $scan = $host.".".$i;
	if ($p->ping($scan,$timeout))
	{
		say "$scan ==> ALIVE\n";
	
	}

	else
	{
		print "$scan ==> Did not respond. Could be down or blocking Ping\n";
	}
}

sub usage
{	print "\t-= Network Ping by N_A =-\n";
	print "\n$0 [host] [timeout in secs]";
	print "\n$0 192.168.1.1 2\n\n";
	exit;
}

